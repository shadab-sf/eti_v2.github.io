<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI Insights - DataFlow Analytics Platform">
    <title>AI Insights - DataFlow Analytics</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/images/logos/favicon.ico">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/app.css">

    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>

    <style>
        /* AI Insights Specific Styles */
        .insights-hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text-white);
            padding: var(--space-8) var(--space-6);
            border-radius: var(--radius-xl);
            margin-bottom: var(--space-8);
            position: relative;
            overflow: hidden;
        }

        .insights-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .insights-hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .ai-logo {
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-4);
            backdrop-filter: blur(10px);
            font-size: 2rem;
        }

        .insights-title {
            font-size: var(--font-size-3xl);
            font-weight: var(--font-weight-bold);
            margin: 0 0 var(--space-3) 0;
        }

        .insights-subtitle {
            font-size: var(--font-size-lg);
            opacity: 0.9;
            margin: 0 0 var(--space-6) 0;
            line-height: 1.6;
        }

        .ai-stats {
            display: flex;
            justify-content: center;
            gap: var(--space-8);
            flex-wrap: wrap;
        }

        .ai-stat {
            text-align: center;
        }

        .ai-stat-value {
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            margin: 0;
        }

        .ai-stat-label {
            font-size: var(--font-size-sm);
            opacity: 0.9;
            margin: 0;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-6);
            margin-bottom: var(--space-8);
        }

        .insights-main {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
        }

        .insight-card {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            box-shadow: var(--shadow-sm);
            transition: var(--transition-base);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .insight-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .insight-card.priority-high {
            border-left: 4px solid var(--color-error);
        }

        .insight-card.priority-medium {
            border-left: 4px solid var(--color-warning);
        }

        .insight-card.priority-low {
            border-left: 4px solid var(--color-success);
        }

        .insight-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-4);
        }

        .insight-type {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-tertiary);
        }

        .insight-priority {
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-base);
            font-size: var(--font-size-xs);
            font-weight: var(--font-weight-semibold);
            text-transform: uppercase;
        }

        .insight-priority.high {
            background: var(--color-error-light);
            color: var(--color-error);
        }

        .insight-priority.medium {
            background: var(--color-warning-light);
            color: var(--color-warning);
        }

        .insight-priority.low {
            background: var(--color-success-light);
            color: var(--color-success);
        }

        .insight-title {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            color: var(--text-primary);
            margin: 0 0 var(--space-3) 0;
            line-height: 1.3;
        }

        .insight-description {
            font-size: var(--font-size-base);
            color: var(--text-secondary);
            line-height: 1.6;
            margin: 0 0 var(--space-4) 0;
        }

        .insight-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: var(--space-4);
            margin: var(--space-4) 0;
            padding: var(--space-4);
            background: var(--bg-secondary);
            border-radius: var(--radius-lg);
        }

        .insight-metric {
            text-align: center;
        }

        .metric-value {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-bold);
            color: var(--text-primary);
            margin: 0;
        }

        .metric-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            margin: 0;
        }

        .insight-actions {
            display: flex;
            gap: var(--space-3);
            flex-wrap: wrap;
        }

        .insight-btn {
            padding: var(--space-2) var(--space-4);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: var(--transition-base);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .insight-btn.primary {
            background: var(--color-primary);
            color: var(--text-white);
            border: none;
        }

        .insight-btn.primary:hover {
            background: var(--color-primary-hover);
        }

        .insight-btn.secondary {
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--border-primary);
        }

        .insight-btn.secondary:hover {
            border-color: var(--color-primary);
            color: var(--color-primary);
        }

        .insights-sidebar {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
        }

        .ai-assistant {
            background: linear-gradient(135deg, var(--color-primary-light) 0%, #e6f7ff 100%);
            border: 1px solid rgba(24, 144, 255, 0.2);
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            text-align: center;
        }

        .assistant-avatar {
            width: 60px;
            height: 60px;
            background: var(--color-primary);
            color: var(--text-white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--space-4);
            font-size: var(--font-size-xl);
        }

        .assistant-message {
            font-size: var(--font-size-sm);
            color: var(--text-primary);
            line-height: 1.6;
            margin: 0 0 var(--space-4) 0;
        }

        .ask-ai-btn {
            background: var(--color-primary);
            color: var(--text-white);
            padding: var(--space-3) var(--space-4);
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            border: none;
            border-radius: var(--radius-lg);
            cursor: pointer;
            transition: var(--transition-base);
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin: 0 auto;
        }

        .ask-ai-btn:hover {
            background: var(--color-primary-hover);
        }

        .insight-filters {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-radius: var(--radius-xl);
            padding: var(--space-5);
            box-shadow: var(--shadow-sm);
        }

        .filter-section {
            margin-bottom: var(--space-4);
        }

        .filter-section:last-child {
            margin-bottom: 0;
        }

        .filter-label {
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            color: var(--text-primary);
            margin: 0 0 var(--space-3) 0;
        }

        .filter-options {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--font-size-sm);
            color: var(--text-primary);
            cursor: pointer;
        }

        .filter-checkbox {
            width: 16px;
            height: 16px;
            accent-color: var(--color-primary);
        }

        .trends-section {
            background: var(--bg-primary);
            border: 1px solid var(--border-secondary);
            border-radius: var(--radius-xl);
            padding: var(--space-5);
            box-shadow: var(--shadow-sm);
        }

        .trends-title {
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-bold);
            color: var(--text-primary);
            margin: 0 0 var(--space-4) 0;
        }

        .trend-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-3);
            padding: var(--space-3);
            border-radius: var(--radius-lg);
            transition: var(--transition-base);
        }

        .trend-item:hover {
            background: var(--bg-hover);
        }

        .trend-icon {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-white);
            flex-shrink: 0;
        }

        .trend-icon.up {
            background: var(--color-success);
        }

        .trend-icon.down {
            background: var(--color-error);
        }

        .trend-icon.stable {
            background: var(--color-warning);
        }

        .trend-content {
            flex: 1;
        }

        .trend-name {
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-medium);
            color: var(--text-primary);
            margin: 0 0 var(--space-1) 0;
        }

        .trend-change {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            margin: 0;
        }

        /* AI Animation */
        .ai-thinking {
            animation: aiPulse 2s ease-in-out infinite;
        }

        @keyframes aiPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .insights-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .ai-stats {
                flex-direction: column;
                gap: var(--space-4);
            }

            .insight-metrics {
                grid-template-columns: repeat(2, 1fr);
            }

            .insights-main {
                gap: var(--space-4);
            }
        }
    </style>
</head>
<body>
    <div class="app-layout">
        <!-- Sidebar -->
        <aside class="app-sidebar">
            <nav class="app-nav">
                <div class="app-nav-logo">
                    <h1>DataFlow</h1>
                    <div class="subtitle">Analytics Platform</div>
                </div>

                <div class="app-nav-section">
                    <div class="app-nav-section-title">Main</div>
                    <a href="dashboard.html" class="app-nav-item">
                        <i data-feather="home" class="icon"></i>
                        <span class="text">Dashboard</span>
                    </a>

                    <a href="ai-insights.html" class="app-nav-item active">
                        <i data-feather="zap" class="icon"></i>
                        <span class="text">AI Insights</span>
                        <span class="badge badge-success">3</span>
                    </a>

                    <a href="reports.html" class="app-nav-item">
                        <i data-feather="bar-chart-2" class="icon"></i>
                        <span class="text">Reports</span>
                    </a>
                </div>

                <div class="app-nav-section">
                    <div class="app-nav-section-title">Data</div>
                    <a href="data-connections.html" class="app-nav-item">
                        <i data-feather="database" class="icon"></i>
                        <span class="text">Data Sources</span>
                    </a>

                    <a href="connector-wizard.html" class="app-nav-item">
                        <i data-feather="link" class="icon"></i>
                        <span class="text">Connect New</span>
                    </a>
                </div>

                <div class="app-nav-section">
                    <div class="app-nav-section-title">Account</div>
                    <a href="settings.html" class="app-nav-item">
                        <i data-feather="settings" class="icon"></i>
                        <span class="text">Settings</span>
                    </a>

                    <a href="#" class="app-nav-item">
                        <i data-feather="help-circle" class="icon"></i>
                        <span class="text">Help & Support</span>
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="app-main">
            <!-- Header -->
            <header class="app-header">
                <div class="app-header-left">
                    <button class="app-sidebar-toggle">
                        <i data-feather="menu"></i>
                    </button>

                    <div class="app-welcome">
                        <div class="app-welcome-message">AI Insights</div>
                        <div class="app-welcome-time">Smart recommendations for your business</div>
                    </div>
                </div>

                <div class="app-header-right">
                    <div class="app-search-box">
                        <i data-feather="search" class="app-search-icon"></i>
                        <input type="text" class="app-search-input" placeholder="Ask AI anything...">
                    </div>

                    <div class="app-user-menu">
                        <div class="app-user-avatar">SC</div>
                        <div class="app-user-info">
                            <div class="app-user-name">Sarah Chen</div>
                            <div class="app-user-status">Online</div>
                        </div>
                        <i data-feather="chevron-down"></i>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <div class="app-content">
                <!-- AI Hero Section -->
                <div class="insights-hero">
                    <div class="insights-hero-content">
                        <div class="ai-logo ai-thinking">
                            ðŸ¤–
                        </div>
                        <h1 class="insights-title">AI-Powered Business Insights</h1>
                        <p class="insights-subtitle">
                            Our AI has analyzed your business data and discovered opportunities to improve performance, reduce costs, and drive growth.
                        </p>

                        <div class="ai-stats">
                            <div class="ai-stat">
                                <div class="ai-stat-value" data-counter="7">0</div>
                                <div class="ai-stat-label">New Insights</div>
                            </div>
                            <div class="ai-stat">
                                <div class="ai-stat-value" data-counter="89">0%</div>
                                <div class="ai-stat-label">Accuracy Score</div>
                            </div>
                            <div class="ai-stat">
                                <div class="ai-stat-value">$12.4K</div>
                                <div class="ai-stat-label">Potential Savings</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Insights Grid -->
                <div class="insights-grid">
                    <!-- Insights Content -->
                    <div class="insights-main">
                        <!-- High Priority Insight -->
                        <div class="insight-card priority-high" onclick="expandInsight(this)">
                            <div class="insight-header">
                                <div class="insight-type">
                                    <i data-feather="alert-triangle" style="width: 12px; height: 12px;"></i>
                                    Cost Optimization
                                </div>
                                <div class="insight-priority high">High Priority</div>
                            </div>

                            <h3 class="insight-title">Reduce Software License Costs by 23%</h3>
                            <p class="insight-description">
                                AI analysis shows you're paying for 47 software licenses that haven't been used in the last 60 days. Canceling these unused licenses could save $2,847 monthly.
                            </p>

                            <div class="insight-metrics">
                                <div class="insight-metric">
                                    <div class="metric-value">$2.8K</div>
                                    <div class="metric-label">Monthly Savings</div>
                                </div>
                                <div class="insight-metric">
                                    <div class="metric-value">47</div>
                                    <div class="metric-label">Unused Licenses</div>
                                </div>
                                <div class="insight-metric">
                                    <div class="metric-value">60+</div>
                                    <div class="metric-label">Days Inactive</div>
                                </div>
                            </div>

                            <div class="insight-actions">
                                <button class="insight-btn primary">
                                    <i data-feather="check-circle" style="width: 16px; height: 16px;"></i>
                                    Review Licenses
                                </button>
                                <button class="insight-btn secondary">
                                    <i data-feather="eye" style="width: 16px; height: 16px;"></i>
                                    View Details
                                </button>
                            </div>
                        </div>

                        <!-- Medium Priority Insight -->
                        <div class="insight-card priority-medium" onclick="expandInsight(this)">
                            <div class="insight-header">
                                <div class="insight-type">
                                    <i data-feather="trending-up" style="width: 12px; height: 12px;"></i>
                                    Revenue Growth
                                </div>
                                <div class="insight-priority medium">Medium Priority</div>
                            </div>

                            <h3 class="insight-title">Customer Retention Opportunity in Enterprise Segment</h3>
                            <p class="insight-description">
                                Your enterprise customers have shown 15% higher engagement with new features. Consider targeted upselling campaigns to increase contract values by an estimated 12%.
                            </p>

                            <div class="insight-metrics">
                                <div class="insight-metric">
                                    <div class="metric-value">+15%</div>
                                    <div class="metric-label">Engagement</div>
                                </div>
                                <div class="insight-metric">
                                    <div class="metric-value">12%</div>
                                    <div class="metric-label">Potential Uplift</div>
                                </div>
                                <div class="insight-metric">
                                    <div class="metric-value">67</div>
                                    <div class="metric-label">Target Accounts</div>
                                </div>
                            </div>

                            <div class="insight-actions">
                                <button class="insight-btn primary">
                                    <i data-feather="send" style="width: 16px; height: 16px;"></i>
                                    Create Campaign
                                </button>
                                <button class="insight-btn secondary">
                                    <i data-feather="users" style="width: 16px; height: 16px;"></i>
                                    View Accounts
                                </button>
                            </div>
                        </div>

                        <!-- Low Priority Insight -->
                        <div class="insight-card priority-low" onclick="expandInsight(this)">
                            <div class="insight-header">
                                <div class="insight-type">
                                    <i data-feather="clock" style="width: 12px; height: 12px;"></i>
                                    Operational Efficiency
                                </div>
                                <div class="insight-priority low">Low Priority</div>
                            </div>

                            <h3 class="insight-title">Optimize Invoice Processing Schedule</h3>
                            <p class="insight-description">
                                Analysis of payment patterns shows that invoices sent on Tuesdays have 8% higher on-time payment rates. Consider scheduling more invoices on this day.
                            </p>

                            <div class="insight-metrics">
                                <div class="insight-metric">
                                    <div class="metric-value">+8%</div>
                                    <div class="metric-label">Payment Rate</div>
                                </div>
                                <div class="insight-metric">
                                    <div class="metric-value">2.3</div>
                                    <div class="metric-label">Days Faster</div>
                                </div>
                                <div class="insight-metric">
                                    <div class="metric-value">156</div>
                                    <div class="metric-label">Monthly Invoices</div>
                                </div>
                            </div>

                            <div class="insight-actions">
                                <button class="insight-btn primary">
                                    <i data-feather="calendar" style="width: 16px; height: 16px;"></i>
                                    Update Schedule
                                </button>
                                <button class="insight-btn secondary">
                                    <i data-feather="bar-chart" style="width: 16px; height: 16px;"></i>
                                    View Analysis
                                </button>
                            </div>
                        </div>

                        <!-- Predictive Insight -->
                        <div class="insight-card priority-medium" onclick="expandInsight(this)">
                            <div class="insight-header">
                                <div class="insight-type">
                                    <i data-feather="target" style="width: 12px; height: 12px;"></i>
                                    Predictive Analysis
                                </div>
                                <div class="insight-priority medium">Medium Priority</div>
                            </div>

                            <h3 class="insight-title">Seasonal Demand Spike Predicted for March</h3>
                            <p class="insight-description">
                                Historical data patterns and market indicators suggest a 34% increase in demand for your services in March. Consider increasing inventory and staffing now.
                            </p>

                            <div class="insight-metrics">
                                <div class="insight-metric">
                                    <div class="metric-value">+34%</div>
                                    <div class="metric-label">Demand Increase</div>
                                </div>
                                <div class="insight-metric">
                                    <div class="metric-value">92%</div>
                                    <div class="metric-label">Confidence</div>
                                </div>
                                <div class="insight-metric">
                                    <div class="metric-value">45</div>
                                    <div class="metric-label">Days to Prepare</div>
                                </div>
                            </div>

                            <div class="insight-actions">
                                <button class="insight-btn primary">
                                    <i data-feather="trending-up" style="width: 16px; height: 16px;"></i>
                                    Create Plan
                                </button>
                                <button class="insight-btn secondary">
                                    <i data-feather="calendar" style="width: 16px; height: 16px;"></i>
                                    Set Reminders
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Sidebar -->
                    <div class="insights-sidebar">
                        <!-- AI Assistant -->
                        <div class="ai-assistant">
                            <div class="assistant-avatar ai-thinking">
                                ðŸ¤–
                            </div>
                            <p class="assistant-message">
                                "Hi Sarah! I've been analyzing your latest data. Would you like me to explain any of these insights in more detail or help you create action plans?"
                            </p>
                            <button class="ask-ai-btn" onclick="askAI()">
                                <i data-feather="message-circle" style="width: 16px; height: 16px;"></i>
                                Ask AI Assistant
                            </button>
                        </div>

                        <!-- Filters -->
                        <div class="insight-filters">
                            <div class="filter-section">
                                <h4 class="filter-label">Priority Level</h4>
                                <div class="filter-options">
                                    <label class="filter-option">
                                        <input type="checkbox" class="filter-checkbox" checked>
                                        High Priority
                                    </label>
                                    <label class="filter-option">
                                        <input type="checkbox" class="filter-checkbox" checked>
                                        Medium Priority
                                    </label>
                                    <label class="filter-option">
                                        <input type="checkbox" class="filter-checkbox">
                                        Low Priority
                                    </label>
                                </div>
                            </div>

                            <div class="filter-section">
                                <h4 class="filter-label">Category</h4>
                                <div class="filter-options">
                                    <label class="filter-option">
                                        <input type="checkbox" class="filter-checkbox" checked>
                                        Cost Optimization
                                    </label>
                                    <label class="filter-option">
                                        <input type="checkbox" class="filter-checkbox" checked>
                                        Revenue Growth
                                    </label>
                                    <label class="filter-option">
                                        <input type="checkbox" class="filter-checkbox">
                                        Risk Management
                                    </label>
                                    <label class="filter-option">
                                        <input type="checkbox" class="filter-checkbox" checked>
                                        Efficiency
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Trends -->
                        <div class="trends-section">
                            <h3 class="trends-title">Key Trends</h3>

                            <div class="trend-item">
                                <div class="trend-icon up">
                                    <i data-feather="arrow-up" style="width: 16px; height: 16px;"></i>
                                </div>
                                <div class="trend-content">
                                    <div class="trend-name">Customer Satisfaction</div>
                                    <div class="trend-change">+12% this month</div>
                                </div>
                            </div>

                            <div class="trend-item">
                                <div class="trend-icon down">
                                    <i data-feather="arrow-down" style="width: 16px; height: 16px;"></i>
                                </div>
                                <div class="trend-content">
                                    <div class="trend-name">Operating Costs</div>
                                    <div class="trend-change">-5% vs last quarter</div>
                                </div>
                            </div>

                            <div class="trend-item">
                                <div class="trend-icon up">
                                    <i data-feather="arrow-up" style="width: 16px; height: 16px;"></i>
                                </div>
                                <div class="trend-content">
                                    <div class="trend-name">Employee Productivity</div>
                                    <div class="trend-change">+8% improvement</div>
                                </div>
                            </div>

                            <div class="trend-item">
                                <div class="trend-icon stable">
                                    <i data-feather="minus" style="width: 16px; height: 16px;"></i>
                                </div>
                                <div class="trend-content">
                                    <div class="trend-name">Market Position</div>
                                    <div class="trend-change">Stable, watch competitors</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/prototype.js"></script>
    <script>
        // Initialize Feather icons
        feather.replace();

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            animateCounters();
            setupInsightInteractions();
            setupFilters();
        });

        function animateCounters() {
            setTimeout(() => {
                const counters = document.querySelectorAll('[data-counter]');
                counters.forEach(counter => {
                    const target = parseInt(counter.getAttribute('data-counter'));
                    window.PrototypeApp.animateCounter(counter, target);
                });
            }, 800);
        }

        function setupInsightInteractions() {
            // Insight card actions
            document.querySelectorAll('.insight-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const action = this.textContent.trim();
                    const insightCard = this.closest('.insight-card');
                    const insightTitle = insightCard.querySelector('.insight-title').textContent;

                    window.PrototypeApp.showNotification(`${action} for: ${insightTitle}`, 'info');
                });
            });

            // Add hover effects
            document.querySelectorAll('.insight-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-4px)';
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(-2px)';
                });
            });
        }

        function expandInsight(card) {
            const title = card.querySelector('.insight-title').textContent;
            window.PrototypeApp.showNotification(`Opening detailed analysis for: ${title}`, 'info');
        }

        function askAI() {
            const assistant = document.querySelector('.ai-assistant');
            const message = assistant.querySelector('.assistant-message');
            const btn = assistant.querySelector('.ask-ai-btn');

            // Simulate AI interaction
            btn.disabled = true;
            btn.innerHTML = '<i data-feather="loader" style="width: 16px; height: 16px; animation: spin 1s linear infinite;"></i> Thinking...';

            setTimeout(() => {
                message.textContent = "I'm here to help! You can ask me things like 'Why are our costs increasing?' or 'How can we improve customer retention?' What would you like to know?";
                btn.disabled = false;
                btn.innerHTML = '<i data-feather="message-circle" style="width: 16px; height: 16px;"></i> Ask Another Question';
                feather.replace();
            }, 2000);

            window.PrototypeApp.showNotification('AI Assistant activated - you can now ask questions about your insights!', 'info');
        }

        function setupFilters() {
            document.querySelectorAll('.filter-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    applyFilters();
                });
            });
        }

        function applyFilters() {
            const checkedPriorities = Array.from(document.querySelectorAll('.filter-checkbox:checked'))
                .map(cb => cb.parentElement.textContent.trim().toLowerCase());

            document.querySelectorAll('.insight-card').forEach(card => {
                const priority = card.querySelector('.insight-priority').textContent.toLowerCase();
                const category = card.querySelector('.insight-type').textContent.toLowerCase();

                const priorityMatch = checkedPriorities.some(p => p.includes(priority));
                const categoryMatch = checkedPriorities.some(c => category.includes(c.split(' ')[0]));

                card.style.display = (priorityMatch || categoryMatch) ? 'block' : 'none';
            });

            window.PrototypeApp.showNotification('Filters applied to insights', 'info');
        }

        // Search functionality
        document.querySelector('.app-search-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const query = this.value;
                if (query.trim()) {
                    window.PrototypeApp.showNotification(`AI searching for: "${query}"`, 'info');
                    this.value = '';
                }
            }
        });

        // Simulate new insights appearing
        setInterval(() => {
            if (Math.random() > 0.95) {
                const badge = document.querySelector('.badge-success');
                if (badge) {
                    const currentCount = parseInt(badge.textContent);
                    badge.textContent = currentCount + 1;
                    window.PrototypeApp.showNotification('ðŸ¤– New AI insight available!', 'success');
                }
            }
        }, 15000);

        // Animate AI avatar
        setInterval(() => {
            const aiElements = document.querySelectorAll('.ai-thinking');
            aiElements.forEach(el => {
                el.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    el.style.transform = 'scale(1)';
                }, 200);
            });
        }, 3000);
    </script>
</body>
</html>